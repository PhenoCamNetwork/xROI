language: r
distro: trusty
sudo: required
warnings_are_errors: false

addon:
  packages:
   - python-gdal
   - libgdal1-dev

# Code coverage
r_packages:
  - covr
  - rgdal

before_script:
  - brew install --with-postgresql gdal
  - install.packages('rgdal', type = "source", configure.args=c('--with-proj-include=/usr/local/include','--with-proj-lib=/usr/local/lib'))

after_success:
- Rscript -e 'library(covr); codecov()'
